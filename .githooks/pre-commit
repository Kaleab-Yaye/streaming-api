#!/bin/sh
# Standard POSIX sh pre-commit hook

echo "Running pre-commit hook..."

# Run Spotless check
./mvnw spotless:check
# Check the exit code of the last command
if [ $? -ne 0 ]; then
    echo "Spotless check failed. Aborting commit."
    exit 1
fi

echo "Spotless check passed. Running tests..."

# Run tests
./mvnw test
# Check the exit code of the last command
if [ $? -ne 0 ]; then
    echo "Tests failed. Aborting commit."
    exit 1
fi

echo "Pre-commit checks passed. Proceeding with commit."
exit 0